%%% listings-lua.sty
%%% Copyright 2013 Stephan Hennig
%%
%% This work may be distributed and/or modified under the conditions of
%% the LaTeX Project Public License, either version 1.3 of this license
%% or (at your option) any later version.  The latest version of this
%% license is in http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of LaTeX
%% version 2005/12/01 or later.
%%
%% See file README for more information.
%%
%
% Lua 5.0
%
\lstdefinelanguage{lua}{%
  % To enable highlighting of library keywords, the dot needs to be a
  % letter.
  alsoletter={.},%
  % language keywords
  morekeywords=[1]{%
    and,%
    break,%
    do,%
    else,%
    elseif,%
    end,%
    false,%
    for,%
    function,%
    if,%
    in,%
    local,%
    nil,%
    not,%
    or,%
    repeat,%
    return,%
    then,%
    true,%
    until,%
    while,%
  },%
  % standard library identifiers
  morekeywords=[2]{%
    % base library
    _G,%
    _LOADED,%
    _REQUIREDNAME,%
    _VERSION,%
    LUA_PATH,%
    assert,%
    collectgarbage,%
    dofile,%
    error,%
    gcinfo,%
    getfenv,%
    getmetatable,%
    ipairs,%
    loadfile,%
    loadlib,%
    loadstring,%
    newproxy,%
    next,%
    pairs,%
    pcall,%
    print,%
    rawequal,%
    rawget,%
    rawset,%
    require,%
    setfenv,%
    setmetatable,%
    tonumber,%
    tostring,%
    type,%
    unpack,%
    xpcall,%
    % coroutine library
    coroutine,%
    coroutine.create,%
    coroutine.resume,%
    coroutine.status,%
    coroutine.wrap,%
    coroutine.yield,%
    % debug library
    _TRACEBACK,%
    debug,%
    debug.debug,%
    debug.gethook,%
    debug.getinfo,%
    debug.getlocal,%
    debug.getupvalue,%
    debug.sethook,%
    debug.setlocal,%
    debug.setupvalue,%
    debug.traceback,%
    % io library
    io,%
    io.close,%
    io.flush,%
    io.input,%
    io.lines,%
    io.open,%
    io.output,%
    io.popen,%
    io.read,%
    io.stderr,%
    io.stdin,%
    io.stdout,%
    io.tmpfile,%
    io.type,%
    io.write,%
    % mathematical library
    __pow,%
    math,%
    math.abs,%
    math.acos,%
    math.asin,%
    math.atan,%
    math.atan2,%
    math.ceil,%
    math.cos,%
    math.deg,%
    math.exp,%
    math.floor,%
    math.frexp,%
    math.ldexp,%
    math.log,%
    math.log10,%
    math.max,%
    math.min,%
    math.mod,%
    math.pi,%
    math.pow,%
    math.rad,%
    math.random,%
    math.randomseed,%
    math.sin,%
    math.sqrt,%
    math.tan,%
    % os library
    os,%
    os.clock,%
    os.date,%
    os.difftime,%
    os.execute,%
    os.exit,%
    os.getenv,%
    os.remove,%
    os.rename,%
    os.setlocale,%
    os.time,%
    os.tmpname,%
    % string library
    string,%
    string.byte,%
    string.char,%
    string.dump,%
    string.find,%
    string.format,%
    string.gfind,%
    string.gsub,%
    string.len,%
    string.lower,%
    string.rep,%
    string.sub,%
    string.upper,%
    % table library
    table,%
    table.concat,%
    table.foreach,%
    table.foreachi,%
    table.getn,%
    table.insert,%
    table.remove,%
    table.setn,%
    table.sort,%
    % additional identifiers
    _PROMPT,%
    _PROMPT2,%
    arg,%
  },%
  sensitive=true,%
  % single line comments
  morecomment=[l]{--},%
  % multi line comments
  morecomment=[s]{--[[}{]]},%
  % backslash escaped strings
  morestring=[b]",%
  morestring=[b]',%
  % multi line strings
  morestring=[s]{[[}{]]},%
}[keywords,comments,strings]%
